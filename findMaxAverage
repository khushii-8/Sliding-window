class Solution {
public:
    double findMaxAverage(vector<int>& nums, int k) {
        int n = nums.size();
        double windowSum = accumulate(nums.begin(), nums.begin() + k, 0);

        double ans = INT_MIN;
        int start = 0, end = k - 1;
        
        while(1) {
            ans = max(ans, (windowSum / k));
            windowSum -= nums[start++];
            end++;
            if (end >= n) break;
            windowSum += nums[end];
        }
        return ans;
    }
};
